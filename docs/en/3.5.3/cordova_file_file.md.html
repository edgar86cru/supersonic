<!DOCTYPE html>
<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
--><html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
        <meta name="generator" content="joDoc">
        <link href="//s3.amazonaws.com/appgyver.assets/global-assets/images/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">

        <title>AppGyver Steroids API Documentation</title>

        <!-- AppGyver fonts -->
        <link type="text/css" rel="stylesheet" href="//fast.fonts.net/cssapi/aa8407d2-1212-415a-8e54-031ff8ee71fe.css">
        <link type="text/css" rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="index.css">
        <link rel="stylesheet" type="text/css" href="mobile.css" media="only screen and (max-device-width: 1024px)">
        <link rel="stylesheet" type="text/css" href="steroids.css">
        <link rel="stylesheet" type="text/css" href="service_menu.css">
        <link rel="stylesheet" type="text/css" href="prettify/prettify.css">

        <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
        <script type="text/javascript" src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script src="https://s3.amazonaws.com/appgyver.assets/topbar.js" type="text/javascript"></script>

    </head>
    <body class="appgyver-x">

      <div class="clear" style="margin-bottom: 50px;"></div>

        <div id="cordova-wrapper">

          <div id="header">
              <h1 id="nonmobile"><a href="index.html"><strong>AppGyver Steroids</strong> API Documentation</a></h1>
              <h1 id="mobile"><a href="index.html"><strong>AppGyver Steroids</strong> API Docs</a></h1>
              <small>
                  <select><optgroup label="English" value="en">
<option value="stable">stable</option>
<option value="edge">edge</option>
<option value="3.5.8">3.5.8</option>
<option value="3.5.7">3.5.7</option>
<option value="3.5.5">3.5.5</option>
<option selected value="3.5.3">3.5.3</option>
<option value="3.5.12">3.5.12</option>
<option value="3.5.1">3.5.1</option>
<option value="3.5.0">3.5.0</option>
<option value="3.1.9">3.1.9</option>
</optgroup></select>
              </small>
          </div>
          <div id="subheader">
              <h1>File</h1>
              <small><select><option value="File">File</option>
<option value="File_version">      - Version</option>
<option value="File_supported_platforms">      - Supported Platforms</option>
<option value="File_objects">      - Objects</option>
<option value="File_android_quirks">      - Android Quirks</option>
<option value="File_upgrading_notes">      - Upgrading Notes</option>
<option value="File_configuring_the_plugin_optional">      - Configuring the Plugin (Optional)</option></select></small>
          </div>

          <div id="sidebar">
              <div class="vertical_divider"></div>
          <h1>Steroids 3.5.3 API Reference</h1>
<ul>
<li><a href="steroids_Steroids%20Analytics%20and%20Log_index.md.html#Steroids%C2%A0Analytics%C2%A0and%C2%A0Log">Steroids Analytics and Log</a></li>
<li><a href="steroids_Steroids%20App%20and%20Device_index.md.html#Steroids%C2%A0App%C2%A0and%C2%A0Device">Steroids App and Device</a></li>
<li><a href="steroids_Steroids%20Config_index.md.html#Steroids%C2%A0Config">Steroids Config</a></li>
<li><a href="steroids_Steroids%20Events_index.md.html#Steroids%C2%A0Events">Steroids Events</a></li>
<li><a href="steroids_Steroids%20File%20System_index.md.html#Steroids%C2%A0File%C2%A0System">Steroids File System</a></li>
<li><a href="steroids_Steroids%20Media_index.md.html#Steroids%C2%A0Media">Steroids Media</a></li>
<li><a href="steroids_Steroids%20Views_index.md.html#Steroids%C2%A0Views">Steroids Views</a></li>
<li><a href="steroids_Steroids%20UI%20Components_index.md.html#Steroids%C2%A0UI%C2%A0Components">Steroids UI Components</a></li>
</ul>
<h1>Cordova 3.5.0 API Reference</h1>
<ul>
<li><a href="cordova_accelerometer_accelerometer.md.html#Accelerometer">Accelerometer</a></li>
<li><a href="cordova_camera_camera.md.html#Camera">Camera</a></li>
<li><a href="cordova_media_capture_capture.md.html#Capture">Capture</a></li>
<li><a href="cordova_compass_compass.md.html#Compass">Compass</a></li>
<li><a href="cordova_connection_connection.md.html#Connection">Connection</a></li>
<li><a href="cordova_contacts_contacts.md.html#Contacts">Contacts</a></li>
<li><a href="cordova_device_device.md.html#Device">Device</a></li>
<li><a href="cordova_events_events.md.html#Events">Events</a></li>
<li><a href="cordova_file_file.md.html#File">File</a></li>
<li><a href="cordova_file_filetransfer_filetransfer.md.html#FileTransfer">FileTransfer</a></li>
<li><a href="cordova_geolocation_geolocation.md.html#Geolocation">Geolocation</a></li>
<li><a href="cordova_globalization_globalization.md.html#Globalization">Globalization</a></li>
<li><a href="cordova_inappbrowser_inappbrowser.md.html#InAppBrowser">InAppBrowser</a></li>
<li><a href="cordova_media_media.md.html#Media">Media</a></li>
<li><a href="cordova_notification_notification.md.html#Notification">Notification</a></li>
</ul>
<h1>Guides</h1>
<ul><li><a href="_index.html">Keyword Index</a></li></ul>
</div>

          <div id="scrollable">
              <div id="content">
                  <!---
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->

<h1><a name="File">File</a></h1>

<p>This plugin provides the <a class="external" href="http://dev.w3.org/2009/dap/file-system/pub/&lt;a%20href=" cordova_file_filesystem_filesystem.md.html>FileSystem</a>/"&gt;HTML5 Filesystem API. For usage, refer
to HTML5 Rocks' <a class="external" href="http://www.html5rocks.com/en/tutorials/file/filesystem/"></a><a href="cordova_file_filesystem_filesystem.md.html#FileSystem">FileSystem</a> article
on the subject. For an overview of other storage options, refer to Cordova's
<a class="external" href="http://cordova.apache.org/docs/en/edge/cordova_storage_storage.md.html">storage guide</a>.</p>

<h2><a name="File_version">Version</a></h2>

<p>The current version of this plugin is 1.1.0.</p>

<h2><a name="File_supported_platforms">Supported Platforms</a></h2>

<ul>
<li>Android</li>
<li>iOS</li>
</ul>

<h2><a name="File_objects">Objects</a></h2>

<ul>
<li><a href="cordova_file_directoryentry_directoryentry.md.html#DirectoryEntry">DirectoryEntry</a></li>
<li><a href="cordova_file_directoryreader_directoryreader.md.html#DirectoryReader">DirectoryReader</a></li>
<li><a href="cordova_file_file.md.html#File">File</a></li>
<li><a href="cordova_file_fileentry_fileentry.md.html#FileEntry">FileEntry</a></li>
<li><a href="cordova_file_fileerror_fileerror.md.html#FileError">FileError</a></li>
<li><a href="cordova_file_filereader_filereader.md.html#FileReader">FileReader</a></li>
<li><a href="cordova_file_filesystem_filesystem.md.html#FileSystem">FileSystem</a></li>
<li><a href="cordova_file_filewriter_filewriter.md.html#FileWriter">FileWriter</a></li>
<li><a href="cordova_file_flags_flags.md.html#Flags">Flags</a></li>
<li><a href="cordova_file_localfilesystem_localfilesystem.md.html#LocalFileSystem">LocalFileSystem</a></li>
<li><a href="cordova_file_metadata_metadata.md.html#Metadata">Metadata</a></li>
</ul>

<h2><a name="File_android_quirks">Android Quirks</a></h2>

<h3>Android Persistent storage location</h3>

<p>There are multiple valid locations to store persistent files on an Android
device. See <a class="external" href="http://developer.android.com/guide/topics/data/data-storage.html">this page</a>
for an extensive discussion of the various possibilities.</p>

<p>Previous versions of the plugin would choose the location of the temporary and
persistent files on startup, based on whether the device claimed that the SD
Card (or equivalent storage partition) was mounted. If the SD Card was mounted,
or if a large internal storage partition was available (such as on Nexus
devices,) then the persistent files would be stored in the root of that space.
This meant that all Cordova apps could see all of the files available on the
card.</p>

<p>If the SD card was not available, then previous versions would store data under
/data/data/<packageid>, which isolates apps from each other, but may still
cause data to be shared between users.</packageid></p>

<p>It is now possible to choose whether to store files in the internal file
storage location, or using the previous logic, with a preference in your
application's config.xml file. To do this, add one of these two lines to
config.xml:</p>

<pre class="prettyprint"><code>&lt;preference name="AndroidPersistentFileLocation" value="Internal" /&gt;

&lt;preference name="AndroidPersistentFileLocation" value="Compatibility" /&gt;
</code></pre>

<p>Without this line, the <a href="cordova_file_file.md.html#File">File</a> plugin will use "Compatibility" as the default. If
a preference tag is present, and is not one of these values, the application
will not start.</p>

<p>If your application has previously been shipped to users, using an older (pre-
1.0) version of this plugin, and has stored files in the persistent filesystem,
then you should set the preference to "Compatibility". Switching the location to
"Internal" would mean that existing users who upgrade their application may be
unable to access their previously-stored files, depending on their device.</p>

<p>If your application is new, or has never previously stored files in the
persistent filesystem, then the "internal" setting is generally recommended.</p>

<h3>iOS Persistent storage location</h3>

<p>There are two valid locations to store persistent files on an iOS device: the
Documents directory and the Library directory. Previous versions of the plugin
only ever stored persistent files in the Documents directory. This had the
side-effect of making all of an application's files visible in iTunes, which
was often unintended, especially for applications which handle lots of small
files, rather than producing complete documents for export, which is the
intended purpose of the directory.</p>

<p>It is now possible to choose whether to store files in the documents or library
directory, with a preference in your application's config.xml file. To do this,
add one of these two lines to config.xml:</p>

<pre class="prettyprint"><code>&lt;preference name="iosPersistentFileLocation" value="Library" /&gt;

&lt;preference name="iosPersistentFileLocation" value="Compatibility" /&gt;
</code></pre>

<p>Without this line, the <a href="cordova_file_file.md.html#File">File</a> plugin will use "Compatibility" as the default. If
a preference tag is present, and is not one of these values, the application
will not start.</p>

<p>If your application has previously been shipped to users, using an older (pre-
1.0) version of this plugin, and has stored files in the persistent filesystem,
then you should set the preference to "Compatibility". Switching the location to
"Library" would mean that existing users who upgrade their application would be
unable to access their previously-stored files.</p>

<p>If your application is new, or has never previously stored files in the
persistent filesystem, then the "Library" setting is generally recommended.</p>

<h2><a name="File_upgrading_notes">Upgrading Notes</a></h2>

<p>In v1.0.0 of this plugin, the <code><a href="cordova_file_fileentry_fileentry.md.html#FileEntry">FileEntry</a></code> and <code><a href="cordova_file_directoryentry_directoryentry.md.html#DirectoryEntry">DirectoryEntry</a></code> structures have changed,
to be more in line with the published specification.</p>

<p>Previous (pre-1.0.0) versions of the plugin stored the device-absolute-file-location
in the <code>fullPath</code> property of <code>Entry</code> objects. These paths would typically look like</p>

<pre class="prettyprint"><code>/var/mobile/Applications/&lt;application UUID&gt;/Documents/path/to/file  (iOS)
/storage/emulated/0/path/to/file                                    (Android)
</code></pre>

<p>These paths were also returned by the <code>toURL()</code> method of the <code>Entry</code> objects.</p>

<p>With v1.0.0, the <code>fullPath</code> attribute is the path to the file, <em>relative to the root of
the HTML filesystem</em>. So, the above paths would now both be represented by a <code><a href="cordova_file_fileentry_fileentry.md.html#FileEntry">FileEntry</a></code>
object with a <code>fullPath</code> of</p>

<pre class="prettyprint"><code>/path/to/file
</code></pre>

<p>If your application works with device-absolute-paths, and you previously retrieved those
paths through the <code>fullPath</code> property of <code>Entry</code> objects, then you should update your code
to use <code>entry.toURL()</code> instead.</p>

<p>For backwards compatibility, the <code><a href="cordova_file_localfilesystem_localfilesystem.md.html#resolveLocalFileSystemURL">resolveLocalFileSystemURL</a>()</code> method will accept a
device-absolute-path, and will return an <code>Entry</code> object corresponding to it, as long as that
file exists within either the TEMPORARY or PERSISTENT filesystems.</p>

<p>This has particularly been an issue with the <a href="cordova_file_file.md.html#File">File</a>-Transfer plugin, which previously used
device-absolute-paths (and can still accept them). It has been updated to work correctly
with <a href="cordova_file_filesystem_filesystem.md.html#FileSystem">FileSystem</a> URLs, so replacing <code>entry.fullPath</code> with <code>entry.toURL()</code> should resolve any
issues getting that plugin to work with files on the device.</p>

<p>In v1.1.0 the return value of <code>toURL()</code> was changed (see [CB-6394] (https://issues.apache.org/jira/browse/CB-6394))
to return an absolute 'file://' URL. wherever possible. To ensure a 'cdvfile:'-URL you can use <code>toInternalURL()</code> now.
This method will now return filesystem URLs of the form</p>

<pre class="prettyprint"><code>cdvfile://localhost/persistent/path/to/file
</code></pre>

<p>which can be used to identify the file uniquely.</p>

<h2><a name="File_configuring_the_plugin_optional">Configuring the Plugin (Optional)</a></h2>

<p>The set of available filesystems can be configured per-platform. Both iOS and
Android recognize a <preference> tag in <code>config.xml</code> which names the
filesystems to be installed. By default, all file-system roots are enabled.</preference></p>

<pre class="prettyprint"><code>&lt;preference name="iosExtraFilesystems" value="library,library-nosync,documents,documents-nosync,cache,bundle,root" /&gt;
&lt;preference name="AndroidExtraFilesystems" value="files,files-external,documents,sdcard,cache,cache-external,root" /&gt;
</code></pre>

<h3>Android</h3>

<ul>
<li>files: The application's internal file storage directory</li>
<li>files-external: The application's external file storage directory</li>
<li>sdcard: The global external file storage directory (this is the root of the SD card, if one is installed). You must have the <code>android.permission.WRITE_EXTERNAL_STORAGE</code> permission to use this.</li>
<li>cache: The application's internal cache directory</li>
<li>cache-external: The application's external cache directory</li>
<li>root: The entire device filesystem</li>
</ul>

<p>Android also supports a special filesystem named "documents", which represents a "/Documents/" subdirectory within the "files" filesystem.</p>

<h3>iOS</h3>

<ul>
<li>library: The application's Library directory</li>
<li>documents: The application's Documents directory</li>
<li>cache: The application's Cache directory</li>
<li>bundle: The application's bundle; the location of the app itself on disk (read-only)</li>
<li>root: The entire device filesystem</li>
</ul>

<p>By default, the library and documents directories can be synced to iCloud. You can also request two additional filesystems, "library-nosync" and "documents-nosync", which represent a special non-synced directory within the Library or Documents filesystem.</p>

              </div>
          </div>

        </div>

        <!-- Functionality and Syntax Highlighting -->
        <script type="text/javascript" src="index.js"></script>
        <script type="text/javascript" src="prettify/prettify.js"></script>
    </body>
</html>
